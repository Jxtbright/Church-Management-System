<% layout('layouts/boilerplate') -%>



<section class="bg-secondary text-light p-4">
    <div class="container ">
        <div class="justify-content-between align-items-center">
            <h1 class=" mb-4 text-center ">Update User Details</h1>
            <form action="/user/<%= user._id %>?_method=PUT" method="POST">
                <div class="d-grid gap-2 col-6 mx-auto">
                    <input class="form-control mb-3" type="text" name="user[username]" id="username" placeholder="Enter Username" value="<%=user.username%>">
                </div>
                <div class="d-grid gap-2 col-6 mx-auto">
                    <input class="form-control mb-3" type="text" name="user[email]" id="email" placeholder="Enter Email" value="<%=user.email%>">
                </div>
                <div class="d-grid gap-2 col-6 mx-auto">
                    <select class="form-select" name="user[status]" id="status">
                        <option value="Pastor" <%=user.status === 'Pastor' ? 'selected': ''%>>Pastor</option>
                        <option value="Admin" <%=user.status === 'Admin' ? 'selected': ''%>>Admin</option>
                    </select>
                </div>
                <div class="d-grid gap-2 col-6 mx-auto mb-3">
                    <button class="btn btn-primary">Update User Details</button>
                </div>
            </form>
            <div class="d-grid gap-2 col-6 mx-auto mb-3">
                <a class="btn btn-primary" href="/user/<%=user.churchId%>">Back</a>
            </div>

            <div class="d-grid gap-2 col-6 mx-auto mb-3">
                <div class="accordion" id="accordionExample">
                    <div class="accordion-item">
                      <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                            Change Users Password
                        </button>
                      </h2>
                      <div id="collapseOne" class="accordion-collapse collapse">
                        <div class="accordion-body">
                            <form action="/newpassword?_method=PATCH" method="POST">
                                <div>
                                    <label class="form-label" for="userId">User ID:</label>
                                    <input class="form-control type="text" name="userId" id="userId" value="<%=user._id%>">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label" for="password">Enter Password:</label>
                                    <input class="form-control" type="password" name="password" id="password" placeholder="Enter Password">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label" for="confirm">Confirm Password:</label>
                                    <input class="form-control" type="password" name="confirm" id="confirm" placeholder="Confirm Password">
                                </div>
                                <div class="text-center">
                                    <button class="btn btn-primary">Change User's Password</button>
                                </div>
                            </form>
                        </div>
                      </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


